name: Deploy web content to Ubuntu Server 

on: 
  push: 
    branches:
      - main 


jobs: 
  deploy: 
    runs-on: ubuntu-latest 

    steps: 
      - name: checkout Repository 
        uses: actions/checkout@v3 

      - name: Deploy To server 
        env: 
          ssh_key: ${{ secrets.SSH_PRIVATE_KEY }}
          server_ip: ${{ secret.SERVER_IP }}
        run: |
          echo $ssh_key >> private_key.pem
          chmod 400 private_key.pem
          cat private_key.pem
          echo @$server_ip
          #ssh -i private_key.pem  ubuntu@$server_ip "mkdir it_is_working_well"